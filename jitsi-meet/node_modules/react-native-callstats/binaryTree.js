/*! callstats.js  version = 3.27.0 2017-12-14 */
function BinaryTreeNode(a){this.value=[],this.value.push(a),this.left=null,this.right=null}function BinaryTree(a){this.root=null,this.top=null,this.bottom=null,this.comparator=a,this.node_counter=0,this.duplicate_counter=0}BinaryTreeNode.prototype={constructor:BinaryTreeNode,toString:function(){return this.value.toString()}},BinaryTree.prototype={constructor:BinaryTree},BinaryTree.prototype.getTop=function(){return this.top},BinaryTree.prototype.getTopValue=function(){return null===this.top?null:this.top.value[0]},BinaryTree.prototype.getBottomValue=function(){return null===this.bottom?null:this.bottom.value[0]},BinaryTree.prototype.getBottom=function(){return this.bottom},BinaryTree.prototype.getDuplicatedCounter=function(){return this.duplicate_counter},BinaryTree.prototype.getNodeCounter=function(){return this.node_counter},BinaryTree.prototype.getSize=function(){return this.duplicate_counter+this.node_counter},BinaryTree.prototype.logTree=function(){function a(b,c,d){if(null!==b){for(var e="-",f=0;f<c;++f)e+="--";console.log(e+"> ("+d+") values: ["+b.value.toString()+"]"),null!==b.left&&a(b.left,c+1,"Left"),null!==b.right&&a(b.right,c+1,"Right")}}return null===this.root?void console.log("This tree is empty"):(console.log("Size of the tree: "+this.getSize()+" Node: "+this.getNodeCounter()+" Duplicates: "+this.getDuplicatedCounter()+" Top: "+this.getTop().toString()+" Bottom: "+this.getBottom().toString()),void a(this.root,0,"Root"))},BinaryTree.prototype.insertByTop=function(a){this.inserting(a,this.top)},BinaryTree.prototype.insertByBottom=function(a){this.inserting(a,this.bottom)},BinaryTree.prototype.insert=function(a){this.inserting(a,this.root)},BinaryTree.prototype.inserting=function(a,b){var c=function(){var b=new BinaryTreeNode(a);return(null===this.top||this.comparator(this.top.value[0],b.value[0])<0)&&(this.top=b),(null===this.bottom||this.comparator(b.value[0],this.bottom.value[0])<0)&&(this.bottom=b),b};if(null===this.root)return this.root=c.call(this),void(this.node_counter=1);for(var d=null,e=b,f=0,g=function(b){return b===a};null!==e;){if(f=this.comparator(a,e.value[0]),0===f)return void(e.value.find(g)||(e.value.push(a),++this.duplicate_counter));d=e,e=f<0?e.left:e.right}++this.node_counter,f<0?d.left=c.call(this):d.right=c.call(this)},BinaryTree.prototype.search=function(a){for(var b,c=this.root,d=null,e=function(b){return b===a};null!==c;){if(b=this.comparator(a,c.value[0]),0===b)return c.value.find(e)?(c.parent=d,c):null;d=c,c=b<0?c.left:c.right}return null},BinaryTree.prototype.getRightist=function(a){for(var b=null;null!==a.right;)b=a,a=a.right;return a.parent=b,a},BinaryTree.prototype.getLeftist=function(a){for(var b=null;null!==a.left;)b=a,a=a.left;return a.parent=b,a},BinaryTree.prototype.deleteBottomValue=function(){for(;null===this.bottom;)return null;var a=this.bottom.value[0];return this.delete(a),a},BinaryTree.prototype.deleteTopValue=function(){for(;null===this.top;)return null;var a=this.top.value[0];return this.delete(a),a},BinaryTree.prototype.delete=function(a){var b=null,c=function(a,b,c){null!==b?b.left===a?b.left=c:b.right=c:this.root=c},d=function(a){return null===this.root?void(this.bottom=this.top=null):(0===this.comparator(this.top.value[0],a.value[0])&&(this.top=this.getRightist(this.root)),void(0===this.comparator(this.bottom.value[0],a.value[0])&&(this.bottom=this.getLeftist(this.root))))};if(b=this.search(a),null===b)return!1;if(1<b.value.length)return b.value.splice(b.value.indexOf(a),1),--this.duplicate_counter,!0;if(--this.node_counter,null===b.left&&null===b.right)c.call(this,b,b.parent,null);else if(null===b.left)c.call(this,b,b.parent,b.right);else if(null===b.right)c.call(this,b,b.parent,b.left);else{for(var e=b.left,f=b;null!==e.right;f=e,e=e.right);f===b?f.left=e.left:f.right=e.left,b.value.shift(),b.value=b.value.concat(e.value)}return d.call(this,b),!0},module.exports=BinaryTree;